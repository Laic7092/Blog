---
title: TXT阅读器新坑-PWA
date: 2024-08-14 16:16
---

大概在一年前有了这个想法，然后当时只是稍微尝试了一下文本文件的导入和解析，用P标签存段落，全部渲染，随后不了了之。终于，最近我实在是无聊得很，想到了这个旧的坑（以及我之前很多想尝试制作的游戏的坑），不小心就填了一部分，也算是有所收获。

---

## 阅读器的技术架构
首先说明，我永远喜欢web，这个项目的初衷也是为了能够在浏览器上自由阅读电子书，虽然目前只能支持最简单的txt。
流程如下：
1. 导入电子书
2. 解析电子书
3. 存入数据库
4. 读取章节与内容
5. 渲染电子书
这不仅限于txt格式，其他的格式也是同样适用的。幸好上面提到的，浏览器都有所支持，感谢强大的web Api！
1. input标签导入
2. File Api尝试读取解析内容
3. IndexDb 存入电子书
4. 三件套
5. 三件套

## 抄袭对象
我很喜欢苹果的图书App，简洁优雅，完全就是为了阅读而生。遗憾的是支持的格式有限，并且只能在apple生态下使用。
另一方面就不得不说微信读书了，虽然包含了些商业气息，但是他的全平台加多格式加多设备同步真的让人舍不得放弃，虽然我一直白嫖。
我暂且认为，txt加epub格式足够用了，毕竟也是自用为主,并且我后续也会尝试加上同步功能，可能会利用onedrive。

## 项目重难点

不知道写啥，总觉得自己好像只是做了个`1+1`一样简单的东西，没啥好讲的，哎。